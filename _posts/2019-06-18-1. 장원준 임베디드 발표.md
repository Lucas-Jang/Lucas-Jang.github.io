```
#include <avr/io.h>
#define F_CPU 16000000UL
#include<util/delay.h>


void init_uart0(){
	UCSR0B = 0x18;
	UCSR0C = 0X06;
	UBRR0H = 0;
	UBRR0L = 103;
}

void putchar0(char c)
{
	while(!(UCSR0A & (1<<UDRE0)));
	UDR0 = c;
}

void puts0(char* ptr)
{
	while(1){
		if(*ptr != 0){
			putchar0(*ptr++);
		}
		else{
			return;
		}
	}
}

char getchar0(){
	while(!(UCSR0A & (1<<RXC0)));
	return(UDR0);
}

int main(void)
{
	PORTA = 0x01;
    char value;
	int count = -1;
	int before_state = 0;
	int current_state = 0;
	int degree[15] = {0, 24, 48, 72, 96, 120, 144, 168, 192, 216, 240,  264, 288, 312, 336};
	int photo = 0;
	char msg2[] = "distance = ";

	init_uart0();
    while (1) 
    {
		value = getchar0();
		photo = (PINA & 0x01);
		current_state = photo;
		if( (photo==1) && (before_state = 0)){
			if(count<15){
				count++;
			}else if(count >= 15){
				count = 0;
			}
			puts0(msg2);
			putchar0(value);
			before_state = current_state;			
		}
		else{
			before_state = current_state;
		}
		
		
    }
}
```
